# Validate this file using http://lint.travis-ci.org/
language: python
sudo: false
cache:
  directories:
    - $HOME/.cache/pip
python:
  - "2.6"
  - "2.7"
  - "3.3"
  - "3.4"
  - "3.5"
install:
  - pip install -r tests/requirements.txt -r doc/requirements.txt
  - python setup.py install
script:
  - py.test --mpl
  - pushd doc && make html && popd
before_deploy:
  # The GitHub deploy key is too large to store as one encrypted environment
  # variable, so we split it and store it over multiple variables. The secure
  # strings below where generated as follows:
  # base64 -w 256 .travis-gh-pages.key | awk '{printf("GH_PAGES_KEY_%02d=%s\n", NR, $0)}' | travis encrypt -s --add env.global
  - eval "$(ssh-agent -s)"
  - ssh-add <(echo "$GH_PAGES_KEY_01$GH_PAGES_KEY_02$GH_PAGES_KEY_03$GH_PAGES_KEY_04$GH_PAGES_KEY_05$GH_PAGES_KEY_06$GH_PAGES_KEY_07$GH_PAGES_KEY_08$GH_PAGES_KEY_09" | base64 -d)
  - git config --global user.email "martijn@vermaat.name"
  - git config --global user.name "Martijn Vermaat"
deploy:
  provider: script
  script: doc/deploy-gh-pages.sh
  skip_cleanup: true
  on:
    tags: true
    python: "2.7"
env:
  global:
    - secure: b/UGfKsNpthU2ob6TyIZVbM5R+7Ivfv0Av06RjTLztnlPIO63VxiIfTaIqCSPOH2F8d93b3BmSqeSTX2vOeHtFAHp4G3X9f+7tdZjaxIN8IWrTwYNMi3Xnlbnr4aubeliXBGDH1Nd4Q45Dm70wChNgurkJ37jfgjuRRGRLchPhypDgstRV2YLH7YnC2R5VcH680/XT2gI1xFORc2spuD52OIEpaCBPx/e//8Cg9tDA4Fe3f531M0gxNwT0ri6mfZgzS6WdTjNmUF7WUiZ2tGCBZuZvur7CGYQmKIO3Psb52gyoLRvHyXTB6/xKbhdoLeiRmXbwmwZbH+rgHYCJ5xs7fu+f5MYcks54iffUme0XoxMz0xUEm/vuCfcGTNgO44oRW6QqviRxpVaPc9bADk7/nJ2lXTPRFvUGLigT6tFo4kMZm+Wu7UxjP1WcMhSEiGnyvlrncnc5Wvg2dljzvWGtNXAFIEUkmsS+JCGtpwDtZdgM6+xhRybM3en2BrQo68YkCEjuTqvhhLcRYc/F7C5rQRXkyUe2bS0ZiwI0PcybZCvQ+Nls5TW+NTRiRXhyYQAxestbJiEnD1gIkFY4p/8lSVBknzi8+0KelRu2fvSQaOPlzkHyjYrkxEIyh5YXLz7SqciDzpxPPIdQui4FVIM1UbJffGFgsrW6SitAr75rQ=
    - secure: Af+fU1caHms3jL+dllHe/rFwuEufl+dt13oa0TWO/T3q0YiY3weDS6KjiRSS2LdfnLkr1uJzRx7mDtadI1jFT6YouUCbUfumI8XXXHiJYiGS0q5EoNljWjDFiyRPw8XDiQliCbto4ZiXxUJ9VCBVdnQSZpL7W1KjlMVdUJVZivGQ5/J0q3VsyjuvDKT8ArDVyUDndrpT4VQ61y7XB0Tj4LjJFggNuB7WGFKmOyzaTbR+wgQ8t2fJ2hqZiRaOj1EYZ2C28x0V+zSPpe+G2bshU9vBaOTYUrUhA8cU4uVOlD2MwoHyVycXUrXf1pnHoYWN9zwjUwW28bggCL5jVt+z4O05pS7Oth4tMaZGFtZtpt3HygOYP6uOxefreZSxsdc1FiJ+EAPwX+QrOvbPp7KaeTLvpgpfeA9lIb4VE6vbIWEL8/igyIl7MHogohv0mJrgnUWNYxXtRb/1gwQbShSmZ5FAS2rJI+F80fcXht3n/ovhsPttqn9DfulmnPkISr8bTcgUKUITtAVJJAP+4Fa+M0DqBuzBd+6XtvRklsjLKs43ZZftf+RPyQpiN9gtyeAKHwgArt28jxklahp3BoVkAOMDB/J2COPH2Sn15pnJ0Wh2Mm7anM5401DGr0yiY8EQQaq0sqiBswN+J/ngk2ZOI2fp63QW6GUGtAgjgC7Z00Q=
    - secure: Tyjg7h7ig8R/JP54iJxMGqFhmdxnRfTUHuEwuf3Qrr6OMQJWDWAQyUYnocJhcNO1KUEsigV8Hsp9dRh6ZCpHDogbOwOAq5ppf8lC2R/ZOB7VYgRjv/mBnmTtbNujyXr50NGgqr5B4HY48xFZdz613bA/rL/J+Avt0LRnF0w6zKKyWInb0ZFAhzEAH5KNmoYT2luZ0incvbeJ3uuKnbPVhODBSFuO7mlR18iU+dWUH8CZibxsHIASJpyhC5i9oJwNkItBFmGWtTJ90uIW7egGyv28ZHnuhB+udB+bpOgRx73scHGpr/5hvo4VAUIK0i1B3UUWyfmRWGC5ndH/y22E5Cf7h8GNWnMbastwi/E+BvUzW+sPU6QCV3GFV/xAiKf5jbkp80Bx9oV2iIe3BZ1yIJ6q0ccwXN3BGDaIOYO0BRtxau+rNBMWUYKroPbF6WydjXl2I7ZVMt/+ligjLHYlFzea4dGLvuY1UpdZISkD+wtjvjYeKvw6x9CakGrAufedsExx0r+NsTJz3GoU1EOPq6920k/MC/WJcrASEVgG79Kn2UwN1t98lhLRnUfvB+K8IfHRMGXwcPfhRBYm9mS31fC9EBMbi+PteyJbyOgMrPXCzmQyulyXZH0T2chGiw8DUtffodXd2DEKvWhYHDIFbwXUxiAKHjguvTbAji9yhaA=
    - secure: Bhd79x5fp70hfDQPKBIDyv4WzCv8MrA3mBcVpc1y+7h0Rews1d+Y9d+tdMwOAF30W+6mbu7+0Z10czjUHZJV1IooNRjaE3dloPmgUMIb/h4Su51mlEcKARiEHrC572Y8Qd7TkId5WXNYMnIPVMKPGlFeVnyRvIFIeRDeFP7a7yid6qlDWfr0NJeGVY2zpBTvDmXjGy964r1HTHJumUKi8KuG9mmL9wzxKH+XsgBn64hRZ6ZNSgHLzXzOGNH6UehFhO5RdQuSR9aoLEPSD0Rtei8h6qljwE719DLDc3w9uAmAOODt4PS3k8xWr1pka/mLQc1kIQMYXKNPdXPDqrqw8Ysr3Sm48UA7WOfDx0W6K20jLlBOz5r7fW5/26zZCbAdxgTWUWdt3xdrWM7hrorxf9mjddoCK0qkNACeniR2m7t6itBcrg2UWbpHlnEBy0lW4iEoUEpcgNF33BrdT5G+uvwxpqDJ7Srd2Cr3+XMjWHAN8pVq3qets8G76k8IsHWzKchVMUkO43z1lOvYBUCSax8e/zynvR19JKRxklWrolZdA1B3Mev5JJrylPHPvpTsgKoK60l/yH85AyACpO6rfVBsv56iKj3AwuDjIeLEwmWwTUpF9azQon3WqiQ8a3A+iuLIimnbNQbLvl+hDkpB5WywlZz8JPWfVjy1y0cOtlI=
    - secure: Kk3EMu878JojiIk8Yvkel+5rQlgUOBszps+u0aufYC0CjAFF33m8uvSu+812VGMzGwdHdWhV+7yxGR6B3FVyBfW7sideeq0C5vR1KSvTMWwM3t+m66LGIu71lilsgy83TrVmulOwwyMaeNM9o7D3JcsuhxWW77NxW2g+6Lb4Azokco/MHOrEXQV6VkGGNFLzbwQjq8WyeZoV3gTU+QvQtl8O5iywR7SbILipfJAHjNrcoyFza39Aq6w+iNcP81HmrgZ2QBIHwagOY6C8DzG41EgFQvKYuHnEbwIavaQ7BrOHuR2mO+sgtkLWcEzHEptEzjEjhFtksWsXBRU/awj+3zSsOkNR93iKJ/ToAIFwEx+lHOnep8ep0GVMXewnWtZKjbGMk7Bb14GyKrk/O/+g9jQjlhB1umeGwmb4NofElcQXzkw4c0DvwMkEfMYBrB1Dzx4gz+qbP8w4ZU1PgjHRR8Tr/9AsDOKA0jY+Gt6zq0f+EQjVZO6kTCEt1IWzYpTugwksSy9D7Y18BnhO7Lg3uc/Dae19inJ273TAjZ59KDNuDZ/quAE3VaMtCopEbvBpCWcAp9R+/QwgwTrvMoaNPAep4AzD5iXP9bVuMga8VAibP9ABA4keAHjUNltLMxPGZJJ4NZaU80eDdE58kz4jSYevSRU5WHftfvAh5lVTrfk=
    - secure: p0Q/soTfgt78Lq5PC5HuLmP6xBht6jnSixLfWsju7jHQa30om0cTk+c6qREoPEDg0Dmxq2DhU4Taxld/1z/+Ax01PbrhV+zQHG2yIa53wjw6UKKVjMw/RymemQJMfluIc1eoaC6i6UDT6WQ5fLpMFzzBhrCUBCxr7rXM/dUkDSJJVCg3V+BH8RrkjLpt+m0KtaBaC01YG5kHuGPxcEXf8Jn+hn8Yh/GWkBNy1F6h2ubs+czR/WtUL4N7vcB89wQ/ls4ishptvPJsJWhdu6+rv7H4U8XKemigq/SjZ6YVOyB2x4mb2tEVi2UghrOtd8m0OpBL//LwH1HlgIESmcggAJYz7UPNMKOxiLQNbhEpl7KiBLl2wyHw/Y6rPbl3AZEtDEHw2IGD3GWKRwO4ZLippPVIx1uhnwKO6aFey5FBKqKKJhcc+KjTNok0pzO1ipF4zyQBhTZ2vvRh3pPuIG6B/PvfnY2WshE8vDYwzKkxSanOaygUn5cNN2TQaae3QC592WQV8xU3GVaSDtr5b8XXDmL6Tf3l7sdcDvSZAdLJXXF5abhTazatiGy9BE7uR6yAVc7FFpJX1KvOyaU4PzzQJe+MSQ46pyKAk0rOpOSpB4m3R7cd8t8sZoX6R4mSJgdf790BZ4anKX4gnLrUYNB/Xlw6MuPiLBXfNqpMPqkKL58=
    - secure: p+krfu65NlM5wQPL26UvdL63pttEes5wjuLOVBdaBfSUKYIIuFEjf694bdOZVB63aYW81FTy03Z67Jqi/f6t44FGbZ9dUZq3Iw6E/b/ALQnZz19B6O3BQgKQjNdX2TZ0CmyqkEbSDUPjdRXLSN3xhHGG3gDkLyoxi30UNiRajnZSupG74/Ckx2hrOQnPMg5oLOYQCvQgbC1XY0Kyb835QQLbBiWa6wy6PYoMO/wVp3NGYGFzmb/EF932m2FFy1CRqCT0fexgpjgVEqslCGsQakuIUkHZFCbi9Dl3TxqzTnfKHnEi8CHWGVCdHC1T8/qCc3qerK7DpE5jufCd4uL5IUfSGVPBbBOCNcatu/Y4KBSyjgTlZM+FuMNDFNLsn9alHIQDop+tzV6wyO9SMtltA/DBaTbm2pmfIFanfWSOUrKNz8H0FAlSZ4yJRJtFsHvvIjVdjOQFOf5Sdjc1YR+cia2QteXfYCiEWMie8PDPNAJtNVeGLwtk9LLZJKAQovoLLNeoCfaPjzqG7lVkr4JB9k8YNnH8sBAW5pHdBPhCWEEdtqyH/G1DJ0adsQe4cC/6W5VisDUc/mzxjgnkZPxSGani8p8iUDFlw7ruHKRTA8XSjXbV0opHbz/3pyNNzQIa2taAWoi1fsOAlBpSTt5DR5sOdn9pIddS7bzE5wHYrlo=
    - secure: jPU8HSIVQVYyL4jkr0vNyVK6eF50AE2c4hCLycpzdpBJ8HJrZ8KAjGYkIanj0hIUtvNz/jvIDw/iZtqEK+jeNFDvKtkteH4hucDFLrTCXl2+/f4W80Lmv+1OYxURi5JIxCg1qZwzgWGELl2zoQKDkoo+gFmcIAf1Q2PS10ccSDlzbu8KE42nZNBmps7fcMqcbde9byxttcS/8L6Ed6f8iimsazAuKFTdIwN3HiBUtjz6DMeAPE9MKkxHok9F/IYwkzAuvvclMoV6nC3xg+QujrBW/Ez5oVC2T2W2SOS49f7v8JN8msD15GrinpOWWk+Njouz4AuKh8EXgP5QB2at4Raab3RhcsCvgkF/znUycf60pbwLS5OyBaGCpfjKjI07XMaYoEMfl/YVI6tLk2QeUOYoq28Sp08k8FHy7Z/J3Ln4uiIrG65KFguMqBqX3dJHjMkGvTKu1grXxAj1/+Jo87OZPidYe0OVxi+HyvSrAy07fmEMSd9dqZBhRNj8XM/PsrVhfJFKKhpesiCckmCtf9uC8BYS0n9lbszZZmeYftFf6sGVBvVK1/naO+wPJuBFiS29sDVww7OgOizmzxZS2UkKt/10FxuyBSlltH9gDmfi1mIwPPc1HmKfPsp37zwi5zMWw58dpub9VZzfTc7C3IdcJzNMwdohnVk4gQgGC1A=
    - secure: to+pZz2fJP2RAQS+m+0amyhUUCuCZSo7eYRmPu78HPkDHRDl2VEGODpMnvRrInIEnpi8DdEk/ohvMxPAtn5r7EtnJDw85KkEMNk3mCdSTDaZSQGklDicx9CylbThdCPZ9Q2gxp77swbf08IS40THc13O5KCnm5Yq2pbsdEAh5VQH/edUKR7Gxm9nudJxEelSgvLrLKXwb5YWYhJz8alHnQFpukM3Ge4cfaP9q04G3Wa8roNZg4m+dnfiBTUbQqnoC0OB8/IEYh6hTP7DEu9mecZld5u80v5uuTXVVutPBpi3Ibbnd6sAiFQDsqA8YAU8ewRZVcQS9Yw//B0edcPlWwdspF8Ioo52q3nqS/2iCgq7v+tRsNKsUjFCYl/JXTQ39YFb02tcwYCCZgyPhWyOeFhJpdiYlAW5YoDs/jMfZLo6kY74jEfAq6H1HxcxOWBfw5qvkgf28GPPYb/Hrq/OgKj0SeTvCi74ReTtHbAk1oXiYvFY3NpdW180/rt7xfuRvB4A7ycZZaG4EbtGir4O5BKxfPOxNNtjWHaF4XhQQ2WbUZ3VnIkwh5zS1Z7CnIReqSLwl3S63UHJlX8VKJBBQO/pRzmCajjjT/RNwcDDhkal7A0LBc9a+kznO63GKvS9beLeW+fxo1RgiVUbc9XyoXO9x5cnq5XAOHkaz+Bylj0=
